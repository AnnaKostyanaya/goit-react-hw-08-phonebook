"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[581],{2581:function(e,n,t){t.r(n),t.d(n,{default:function(){return Z}});var a=t(9439),r=t(1087),s=t(7689),c=t(2791),o=t(9434),i=t(4141),l=t(4164),u="Modal_modal__backdrop__zqa1y",d="Modal_modal__content__qkKAK",m=t(184),f=document.querySelector("#modal-root"),h=function(e){var n=e.toggleModal,t=e.children;(0,c.useEffect)((function(){return window.addEventListener("keydown",a),function(){window.removeEventListener("keydown",a)}}));var a=function(e){"Escape"===e.code&&n()};return(0,l.createPortal)((0,m.jsx)("div",{className:u,onClick:function(e){e.currentTarget===e.target&&n()},children:(0,m.jsx)("div",{className:d,children:t})}),f)},_=t(5036),b="ModalQuestion_btn__nQUYz",x="ModalQuestion_list__OkZfu",p="ModalQuestion_text__RgDMn",j=function(e){var n=e.toggleModal,t=(0,o.I0)(),a=(0,s.s0)(),r=(0,s.UO)().id;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("p",{className:p,children:"Are you sure?"}),(0,m.jsxs)("ul",{className:x,children:[(0,m.jsx)("li",{children:(0,m.jsx)("button",{className:b,type:"button",onClick:function(){return t((0,_._f)(r)),void a("/contacts")},children:"Confirm"})}),(0,m.jsx)("li",{children:(0,m.jsx)("button",{className:b,type:"button",onClick:function(){return n()},children:"Cancel"})})]})]})},g="ModalEditForm_wrapper__4JlHp",v="ModalEditForm_field__iFi0o",N="ModalEditForm_btn__BMABc",C="ModalEditForm_cancel_btn__5kEhJ",k=function(e){var n=e.toggleModal,t=(0,s.UO)().id,r=(0,o.v9)(i.mk),l=r.filter((function(e){return e.id===t})),u=(0,c.useState)(l[0].name),d=(0,a.Z)(u,2),f=d[0],h=d[1],b=(0,c.useState)(l[0].number),x=(0,a.Z)(b,2),p=x[0],j=x[1],k=(0,o.I0)(),M=function(e){var n=e.currentTarget,t=n.name,a=n.value;switch(t){case"name":h(a);break;case"number":j(a);break;default:return}},y=function(e){w(e)?h(""):n()},w=function(e){if(r){var n=e.toLowerCase();return 0!==r.filter((function(e){return e.name.toLowerCase()===n})).length}};return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("form",{onSubmit:function(e){var n=e.currentTarget.name.value;e.preventDefault(),w(n)?alert("".concat(n," is already in contacts")):k((0,_.nv)({id:t,name:f,number:p})),y(n)},children:[(0,m.jsxs)("label",{className:g,children:["Name",(0,m.jsx)("input",{className:v,type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,onChange:M,value:f})]}),(0,m.jsxs)("label",{className:g,children:["Number",(0,m.jsx)("input",{className:v,type:"tel",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",required:!0,onChange:M,value:p})]}),(0,m.jsx)("button",{className:N,type:"submit",children:"Save changes"})]}),(0,m.jsx)("button",{className:C,type:"button",onClick:function(){return n()},children:"Cancel"})]})},M="ContactDetailPage_btn__ZyDwd",y="ContactDetailPage_contact_btn__hOy-T",w="ContactDetailPage_userAbout__C1oX1",E="ContactDetailPage_header__HTeQb",F="ContactDetailPage_container__m+vMB",Z=function(){var e=(0,c.useState)(!1),n=(0,a.Z)(e,2),t=n[0],l=n[1],u=(0,c.useState)(""),d=(0,a.Z)(u,2),f=d[0],_=d[1],b=(0,c.useState)(null),x=(0,a.Z)(b,2),p=x[0],g=x[1],v=(0,s.TH)(),N=(0,s.UO)().id,C=(0,o.v9)(i.mk).filter((function(e){return e.id===N})),Z=(0,o.v9)(i.ts);(0,c.useEffect)((function(){g(Z)}),[Z]);var A=function(){l(!t),_("delete")},D=function(){l(!t),_("edit")};return(0,m.jsx)("div",{className:F,children:C&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.rU,{to:v.state.from,className:y,children:"Go back"}),null===p?(0,m.jsxs)("div",{children:[(0,m.jsxs)("p",{className:w,children:[(0,m.jsx)("span",{className:E,children:"name: "}),C[0].name]}),(0,m.jsxs)("p",{className:w,children:[(0,m.jsx)("span",{className:E,children:"number: "}),C[0].number]})]}):(0,m.jsxs)("div",{children:[(0,m.jsxs)("p",{className:w,children:[(0,m.jsx)("span",{className:E,children:"name: "}),Z.name]}),(0,m.jsxs)("p",{className:w,children:[(0,m.jsx)("span",{className:E,children:"number: "}),Z.number]})]}),(0,m.jsx)("button",{type:"button",onClick:A,className:M,children:"Delete user"}),t&&"delete"===f&&(0,m.jsx)(h,{toggleModal:A,children:(0,m.jsx)(j,{toggleModal:A})}),(0,m.jsx)("button",{type:"button",onClick:D,className:M,children:"Edit user"}),t&&"edit"===f&&(0,m.jsx)(h,{toggleModal:D,children:(0,m.jsx)(k,{toggleModal:D})})]})})}},4141:function(e,n,t){t.d(n,{F4:function(){return o},Vc:function(){return r},by:function(){return s},mk:function(){return a},ts:function(){return c}});var a=function(e){return e.contacts.contacts},r=function(e){return e.contacts.isLoading},s=function(e){return e.contacts.error},c=function(e){return e.contacts.currentUser},o=function(e){var n=e.contacts,t=n.contacts,a=(n.isLoading,n.error,e.filter);if(!a)return t;return function(){var e=a.toLowerCase();return t.filter((function(n){return n.name.toLowerCase().includes(e)}))}()}}}]);
//# sourceMappingURL=581.4cf71898.chunk.js.map