{"version":3,"file":"static/js/598.5a40a38a.chunk.js","mappings":"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","sources":["shared/components/Modal/Modal.jsx","shared/components/Modal/ModalQuestion.jsx","shared/components/Modal/ModalEditForm.jsx","pages/ContactDetailPage/ContactDetailPage.jsx","redux/contacts/contacts-selectors.js"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\n\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport const  Modal = ({ toggleModal, children }) => {\n\nuseEffect(() => {\nwindow.addEventListener('keydown', handleKeyDown);\n\nreturn () => { window.removeEventListener('keydown', handleKeyDown)}\n});\n\nconst handleKeyDown = event => {\nif (event.code === 'Escape') {\n    toggleModal();\n}\n};\n\nconst handleBackdropClick = event => {\nif (event.currentTarget === event.target) {\n    toggleModal();\n}\n};\n\n\nreturn createPortal(\n    <div className=\"Modal__backdrop\" onClick={handleBackdropClick}>\n    <div className=\"Modal__content\">\n        {children}\n    </div>\n    </div>,\n    modalRoot,\n);\n}\n\nexport default Modal;","import { useDispatch } from \"react-redux\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { deleteContacts } from \"redux/contacts/contacts-operations\";\n\nconst ModalQuestion = ( { toggleModal } ) => {\n\n    const dispatch = useDispatch();\n    const navigate = useNavigate();\n    const { id } = useParams();\n\n    const confirmButtonHandler = () => {\n        dispatch(deleteContacts(id));\n        navigate(\"/contacts\");\n    }\n\n\nreturn (\n    <>\n        <p>Are you sure?</p>\n        <ul>\n            <li>\n                <button type=\"button\" onClick={() => confirmButtonHandler()}>Confirm</button>\n            </li>\n            <li>\n                <button type=\"button\" onClick={() => toggleModal()}>Cancel</button>\n            </li>\n        </ul>\n    </>\n)};\n\nexport default ModalQuestion;","import { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { changeContactDetail } from \"redux/contacts/contacts-operations\";\nimport { getAllContacts } from \"redux/contacts/contacts-selectors\";\n\nconst ModalEditForm = ({ toggleModal }) => {\n\nconst { id } = useParams();\nconst allContacts = useSelector(getAllContacts);\nconst contactDetail = allContacts.filter(contact => contact.id === id);\n\nconst [name, setName] = useState(contactDetail[0].name);\nconst [number, setNumber] = useState(contactDetail[0].number);\n\nconst dispatch = useDispatch();\n\nconst handleChange = event => {\n    const {name, value} = event.currentTarget;\n    switch (name) {\n        case 'name':\n            setName(value);\n            break;\n\n        case 'number':\n            setNumber(value);\n            break;\n        \n        default:\n            return;\n    }\n};\n\nconst handleSubmit = event => {\n    const controlName = event.currentTarget.name.value;\n    event.preventDefault();\n    if (onCheckName(controlName)) {\n        alert(`${controlName} is already in contacts`);\n    } else { \n    dispatch(changeContactDetail({ id, name, number }));\n    }\n    clearForm(controlName);\n};\n\nconst clearForm = (name) => {\n    if (onCheckName(name)) {\n        setName(\"\");\n    } else {\n        toggleModal();\n    }\n}\n\nconst onCheckName = (name) => {\n    if (!allContacts) {\n        return;\n    }\n    const normalizeName = name.toLowerCase();\n    const checkname = allContacts.filter(contact =>\n        contact.name.toLowerCase() === normalizeName\n    );\n    if (checkname.length !== 0) {\n        return true;\n    } else {\n        return false;\n    }\n    }\n    \n\nreturn (\n    <>\n    <form onSubmit={handleSubmit} >\n        <label >Name\n            <input \n                type=\"text\"\n                name=\"name\"\n                pattern=\"^[a-zA-Zа-яА-Я]+(([' -][a-zA-Zа-яА-Я ])?[a-zA-Zа-яА-Я]*)*$\"\n                title=\"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan\"\n                required\n                onChange={handleChange}\n                value={name} \n            />\n        </label>\n        <label >Number\n            <input \n                type=\"tel\"\n                name=\"number\"\n                pattern=\"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}\"\n                title=\"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +\"\n                required\n                onChange={handleChange}\n                value={number}\n            />\n        </label>\n    <button variant=\"contained\" type=\"submit\">Save changes</button>\n    </form>\n    <button variant=\"contained\" type=\"button\" onClick={() => toggleModal()}>Cancel</button>\n    </>\n);\n}\n\nexport default ModalEditForm;","import { useParams, Link, useLocation } from \"react-router-dom\";\nimport { useState } from \"react\"; \nimport { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { getAllContacts, getCurrentUser } from \"../../redux/contacts/contacts-selectors\";\nimport Modal from \"shared/components/Modal/Modal\";\nimport ModalQuestion from \"shared/components/Modal/ModalQuestion\";\nimport ModalEditForm from \"shared/components/Modal/ModalEditForm\";\n\nconst ContactDetailPage = () => {\n\nconst [isModalOpen, setIsModalOpen] = useState(false);\nconst [menu, setMenu] = useState(\"\");\nconst [changeName, setchangeName] = useState(null);\n\nconst location = useLocation();\nconst { id } = useParams();\nconst contacts = useSelector(getAllContacts);\nconst contactDetail = contacts.filter(contact => contact.id === id);\n\nconst currentUser = useSelector(getCurrentUser);\n\nuseEffect(() => {\n    setchangeName(currentUser); \n}, [currentUser]);\n\nconst buttonDeleteClickHandler =() => {\n    setIsModalOpen(!isModalOpen);\n    setMenu(\"delete\");\n}\n\nconst buttonEditClickHandler =() => {\n    setIsModalOpen(!isModalOpen);\n    setMenu(\"edit\");\n}\n\n\nreturn (\n    <>\n    {contactDetail && (\n        <>\n            <Link to={location.state.from}>Go back</Link>\n            {(changeName === null) ? ( \n                <div>\n                    <p>{contactDetail[0].name}</p>\n                    <p>{contactDetail[0].number}</p>\n                </div>\n            ) : (\n                <div>\n                    <p>{currentUser.name}</p>\n                    <p>{currentUser.number}</p>\n                </div>\n            )}\n            <button type=\"button\" onClick={buttonDeleteClickHandler}>Delete user</button>\n            {(isModalOpen && menu === \"delete\") && \n            <Modal toggleModal={buttonDeleteClickHandler} >\n                <ModalQuestion toggleModal={buttonDeleteClickHandler} />\n            </Modal>}\n            <button type=\"button\" onClick={buttonEditClickHandler}>Edit user</button>\n            {(isModalOpen && menu === \"edit\") && \n            <Modal toggleModal={buttonEditClickHandler}>\n                <ModalEditForm toggleModal={buttonEditClickHandler}/>\n            </Modal>}\n        </>\n    )}\n    </>\n);\n};\n\nexport default ContactDetailPage;","export const getAllContacts = state => state.contacts.contacts;\nexport const getIsLoading = state => state.contacts.isLoading;\nexport const getError = state => state.contacts.error;\nexport const getCurrentUser = state => state.contacts.currentUser;\nexport const filter = ({filter}) => filter;\n\nexport const getFilteredContacts = ({contacts: {contacts, isLoading, error }, filter}) => {\n    if (!filter) {\n        return contacts;\n    }\n    const getVisibleContacts = () => {\n    const lowerCaseFilter = filter.toLowerCase();\n    return contacts.filter(contact =>\n        contact.name.toLowerCase().includes(lowerCaseFilter),\n    );\n    };\n    \n    const visibleContacts = getVisibleContacts();\n\n    return visibleContacts;\n}\n"],"names":["modalRoot","document","querySelector","toggleModal","children","useEffect","window","addEventListener","handleKeyDown","removeEventListener","event","code","createPortal","className","onClick","currentTarget","target","dispatch","useDispatch","navigate","useNavigate","id","useParams","type","deleteContacts","allContacts","useSelector","getAllContacts","contactDetail","filter","contact","useState","name","setName","number","setNumber","handleChange","value","clearForm","onCheckName","normalizeName","toLowerCase","length","onSubmit","controlName","preventDefault","alert","changeContactDetail","pattern","title","required","onChange","variant","isModalOpen","setIsModalOpen","menu","setMenu","changeName","setchangeName","location","useLocation","currentUser","getCurrentUser","buttonDeleteClickHandler","buttonEditClickHandler","to","state","from","contacts","getIsLoading","isLoading","getError","error","getFilteredContacts","lowerCaseFilter","includes","getVisibleContacts"],"sourceRoot":""}